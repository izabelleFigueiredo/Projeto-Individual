<!DOCTYPE html>
<html lang="ptbr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/cadastro.css" />
    <title>Cadastre-se</title>
</head>

<body>
    <div class="container">
        <form id="formulario" class="formulario">
            <div class="cadastro">
                <div class="inputs">
                    <input class="inpt" type="text" id="inpNome" placeholder="Insira seu nome" />
                    <span id="alertNome" class="msgAlerta"></span>
                    <input class="inpt" type="email" id="inpEmail" placeholder="Insira seu email" />
                    <span id="alertEmail" class="msgAlerta"></span>
                    <input class="inpt" type="password" id="inpSenha" placeholder="Crie sua senha" />
                    <span id="alertSenha" class="msgAlerta"></span>
                    <input class="inpt" type="password" id="inpConfirmSenha" placeholder="Confirme sua senha" />
                    <span id="alertConfirmSenha" class="msgAlerta"></span>
                </div>
                <div class="botoes">
                    <button class="botao" type="submit" onclick="cadastrar()">Cadastrar</button>
                    <button class="botao" type="reset" onclick="cancelar()">Cancelar</button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>
<script>

    function cadastrar() {
        let nome = inpNome.value;
        let email = inpEmail.value;
        let senha = inpSenha.value;
        let confirmSenha = inpConfirmSenha.value;

        alertNome.innerHTML = '';
        alertEmail.innerHTML = '';
        alertSenha.innerHTML = '';
        alertConfirmSenha.innerHTML = '';


        // let formulario = document.getElementById('formulario');
        event.preventDefault();


        // validação das inputs

        let validacaoVazio = nome == "" || email == "" || senha == "" || confirmSenha == "";

        if (validacaoVazio) {
            if (nome == "") {
                alertNome.innerHTML += "Preencha o campo com o seu nome! <br>";
            }
            if (email == "") {
                alertEmail.innerHTML += "Preencha o campo com o seu email!<br>";
            }
            if (senha == "") {
                alertSenha.innerHTML += "Preencha o campo com a sua senha!";
            }
            if (confirmSenha == "") {
                alertConfirmSenha.innerHTML +=
                    "Preencha o campo com a confirmação da sua senha!<br>";
            }
        }
        if ((nome.length <= 2) || (email.indexOf("@") == -1 || email.indexOf(".com")== -1) || (senha != confirmSenha) ) {
            if (nome.length <= 2) {
                alertNome.innerHTML += "Insira um nome válido!";
            }
            if (email.indexOf("@") == -1 || email.indexOf(".com") == -1) {
                alertEmail.innerHTML += 'Seu email deve conter @ e ".com!"';
            }
            if (senha != confirmSenha) {
                alertConfirmSenha.innerHTML += "As senhas não são iguais!";
            }
        }

        else {
            alert("Cadastro realizado com sucesso!");
            window.location.href = 'login.html';
        }
    }
</script>